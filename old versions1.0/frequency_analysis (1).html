{% extends "base.html" %}

{% block title %}Frequency Analysis{% endblock %}

{% block page_heading %}Frequency Analysis{% endblock %}

{% block content %}
<div class="flex flex-col space-y-6"> {# Changed from grid to flex-col to stack charts always #}
    <div class="chart-container w-full">
        <h2 class="text-xl font-semibold mb-4">White Ball Frequency (1-69)</h2>
        <div id="whiteBallFreqChart"></div>
    </div>

    <div class="chart-container w-full">
        <h2 class="text-xl font-semibold mb-4">Powerball Frequency (1-26)</h2>
        <div id="powerballFreqChart"></div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Ensure data is an empty array if not provided or empty
        var whiteBallFreqData = {% if white_ball_freq %}{{ white_ball_freq | tojson }}{% else %}[]{% endif %};
        var powerballFreqData = {% if powerball_freq %}{{ powerball_freq | tojson }}{% else %}[]{% endif %};

        console.log("[D3 Debug] frequency_analysis.html - whiteBallFreqData:", whiteBallFreqData);
        console.log("[D3 Debug] frequency_analysis.html - powerballFreqData:", powerballFreqData);

        drawBarChart(whiteBallFreqData, "whiteBallFreqChart", "Number", "Frequency", "White Ball Frequency (1-69)", "Ball Number", "Frequency");
        drawBarChart(powerballFreqData, "powerballFreqChart", "Number", "Frequency", "Powerball Frequency (1-26)", "Powerball Number", "Frequency", "orange");
    });
</script>
{% endblock %}
