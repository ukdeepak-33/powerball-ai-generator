{% extends "base.html" %}

{% block content %}
<h1 class="text-3xl font-bold mb-6">Number Age Distribution</h1>

<p class="mb-4 text-gray-700">This chart shows the distribution of "ages" for all Powerball numbers (white balls and Powerball). The "age" of a number is the number of draws since its last appearance.</p>

<div class="chart-container">
    <h2 class="text-xl font-semibold mb-4">Draws Since Last Appearance</h2>
    <div id="numberAgeChart"></div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Ensure data is an empty array if not provided or empty
        var numberAgeData = {% if number_age_data %}{{ number_age_data | tojson }}{% else %}[]{% endif %};
        console.log("[D3 Debug] number_age_distribution.html - numberAgeData:", numberAgeData);

        drawBarChart(numberAgeData, "numberAgeChart", "age", "count", "Number Age Distribution", "Draws Since Last Appearance", "Number of Balls", "#5a67d8"); // A shade of indigo
    });
</script>
{% endblock %}
