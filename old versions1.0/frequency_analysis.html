{% extends "base.html" %}

{% block content %}
<h1 class="text-3xl font-bold mb-6">Frequency Analysis</h1>

<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    <div class="chart-container">
        <h2 class="text-xl font-semibold mb-4">White Ball Frequency (1-69)</h2>
        <div id="whiteBallFreqChart"></div>
    </div>

    <div class="chart-container">
        <h2 class="text-xl font-semibold mb-4">Powerball Frequency (1-26)</h2>
        <div id="powerballFreqChart"></div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Ensure data is an empty array if not provided or empty
        var whiteBallFreqData = {% if white_ball_freq %}{{ white_ball_freq | tojson }}{% else %}[]{% endif %};
        var powerballFreqData = {% if powerball_freq %}{{ powerball_freq | tojson }}{% else %}[]{% endif %};

        console.log("[D3 Debug] frequency_analysis.html - whiteBallFreqData:", whiteBallFreqData);
        console.log("[D3 Debug] frequency_analysis.html - powerballFreqData:", powerballFreqData);

        drawBarChart(whiteBallFreqData, "whiteBallFreqChart", "Number", "Frequency", "White Ball Frequency (1-69)", "Ball Number", "Frequency");
        drawBarChart(powerballFreqData, "powerballFreqChart", "Number", "Frequency", "Powerball Frequency (1-26)", "Powerball Number", "Frequency", "orange");
    });
</script>
{% endblock %}
