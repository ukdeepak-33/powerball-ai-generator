<!DOCTYPE html>
<html>
<head>
    <title>Powerball AI Generator</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; text-align: center; }
        h1 { color: #2c3e50; }
        .btn-container { display: flex; justify-content: center; gap: 10px; margin-top: 20px; }
        .btn { padding: 10px 20px; border: none; border-radius: 5px; font-size: 16px; cursor: pointer; color: white; }
        #ensemble-btn { background-color: #2c3e50; }
        #rf-btn { background-color: #e74c3c; }
        #gb-btn { background-color: #3498db; }
        #knn-btn { background-color: #27ae60; }
        .result-container { margin-top: 30px; }
        #numbers-display { font-size: 24px; font-weight: bold; }
        #analysis-display {
            background-color: #f4f4f4;
            border: 1px solid #ddd;
            padding: 15px;
            margin-top: 15px;
            text-align: left;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
    </style>
</head>
<body>
    <h1>Powerball AI Generator</h1>
    <div class="btn-container">
        <button id="ensemble-btn" class="btn">Generate (Ensemble)</button>
        <button id="rf-btn" class="btn">Generate (RF)</button>
        <button id="gb-btn" class="btn">Generate (GB)</button>
        <button id="knn-btn" class="btn">Generate (KNN)</button>
    </div>
    <div class="result-container">
        <h2 id="model-name"></h2>
        <div id="numbers-display"></div>
        <div id="analysis-display"></div>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const buttons = {
                'ensemble-btn': '/generate',
                'rf-btn': '/generate/rf',
                'gb-btn': '/generate/gb',
                'knn-btn': '/generate/knn'
            };

            const numbersDisplay = document.getElementById('numbers-display');
            const analysisDisplay = document.getElementById('analysis-display');
            const modelNameDisplay = document.getElementById('model-name');

            function displayNumbers(data) {
                const { generated_numbers, analysis } = data;
                
                numbersDisplay.innerHTML = `
                    <h3>White Balls:</h3>
                    <p style="font-size: 24px; font-weight: bold;">${generated_numbers.white_balls.join(', ')}</p>
                    <h3>Powerball:</h3>
                    <p style="font-size: 24px; font-weight: bold;">${generated_numbers.powerball}</p>
                `;

                analysisDisplay.innerHTML = `
                    <h4>Analysis:</h4>
                    <pre>${JSON.stringify(analysis, null, 2)}</pre>
                `;
            }

            function fetchNumbers(url, modelName) {
                modelNameDisplay.textContent = `Generated by ${modelName}`;
                fetch(url)
                    .then(response => {
                        if (!response.ok) {
                            throw new Error('Network response was not ok');
                        }
                        return response.json();
                    })
                    .then(data => displayNumbers(data))
                    .catch(error => {
                        console.error('Error fetching numbers:', error);
                        numbersDisplay.textContent = 'Failed to generate numbers.';
                        analysisDisplay.textContent = '';
                    });
            }

            for (const buttonId in buttons) {
                document.getElementById(buttonId).addEventListener('click', () => {
                    const url = buttons[buttonId];
                    const modelName = document.getElementById(buttonId).textContent.replace('Generate (', '').replace(')', '');
                    fetchNumbers(url, modelName);
                });
            }
        });
    </script>
</body>
</html>
